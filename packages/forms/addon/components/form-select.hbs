<FormField
  @size={{@size}}
  class={{use-frontile-class "form-select" @size class=@containerClass}} as |f|
>
  {{#if @label}}
    <f.Label
      @for={{false}}
      id={{f.id}}
      class={{use-frontile-class "form-select" @size part="label"}}
    >
      {{@label}}
    </f.Label>
  {{/if}}

  {{#if @hint}}
    <f.Hint class={{use-frontile-class "form-select" @size part="hint"}}>
      {{@hint}}
    </f.Hint>
  {{/if}}

  {{#let
    (if
      @isMultiple (component "power-select-multiple") (component "power-select")
    ) as |Component|
  }}
    <Component
      ...attributes
      @onChange={{this.handleChange}}
      @onFocus={{this.handleFocusIn}}
      @onBlur={{this.handleFocusOut}}
      @onOpen={{this.handleOpen}}
      @onClose={{this.handleClose}}
      @ariaDescribedBy="{{if @hint f.hintId}}{{
        if this.showErrorFeedback (concat " " f.feedbackId)
      }}{{if @ariaDescribedBy (concat " " @ariaDescribedBy)}}"
      @ariaLabelledBy="{{if @label f.id}}{{
        if @ariaLabelledBy (concat " " @ariaLabelledBy)
      }}"
      @ariaInvalid={{if this.showErrorFeedback "true"}}
      @triggerClass="{{@triggerClass}} {{
        if @size (concat "ember-power-select-trigger-" @size)
      }} {{use-frontile-class "form-select" @size part="select"}}"
      @highlightOnHover={{@highlightOnHover}}
      @placeholderComponent={{@placeholderComponent}}
      @searchMessage={{@searchMessage}}
      @noMatchesMessage={{@noMatchesMessage}}
      @matchTriggerWidth={{@matchTriggerWidth}}
      @options={{@options}}
      @selected={{@selected}}
      @closeOnSelect={{@closeOnSelect}}
      @defaultHighlighted={{@defaultHighlighted}}
      @searchField={{@searchField}}
      @searchEnabled={{@searchEnabled}}
      @tabindex={{@tabindex}}
      @triggerComponent={{@triggerComponent}}
      @matcher={{@matcher}}
      @initiallyOpened={{@initiallyOpened}}
      @typeAheadOptionMatcher={{@typeAheadOptionMatcher}}
      @buildSelection={{@buildSelection}}
      @search={{@search}}
      @onInput={{@onInput}}
      @onKeydown={{@onKeydown}}
      @scrollTo={{@scrollTo}}
      @registerAPI={{@registerAPI}}
      @horizontalPosition={{@horizontalPosition}}
      @destination={{@destination}}
      @preventScroll={{@preventScroll}}
      @renderInPlace={{@renderInPlace}}
      @verticalPosition={{@verticalPosition}}
      @disabled={{@disabled}}
      @calculatePosition={{@calculatePosition}}
      @eventType={{@eventType}}
      @ariaLabel={{@ariaLabel}}
      @required={{@required}}
      @triggerRole={{@triggerRole}}
      @title={{@title}}
      @triggerId={{@triggerId}}
      @allowClear={{@allowClear}}
      @loadingMessage={{@loadingMessage}}
      @selectedItemComponent={{@selectedItemComponent}}
      @dropdownClass={{@dropdownClass}}
      @beforeOptionsComponent={{@beforeOptionsComponent}}
      @placeholder={{@placeholder}}
      @searchPlaceholder={{@searchPlaceholder}}
      @searchMessageComponent={{@searchMessageComponent}}
      @optionsComponent={{@optionsComponent}}
      @extra={{@extra}}
      @groupComponent={{@groupComponent}}
      @afterOptionsComponent={{@afterOptionsComponent}} as |option term|
    >
      {{yield option term}}
    </Component>
  {{/let}}

  {{#if this.showErrorFeedback}}
    <f.Feedback
      class={{use-frontile-class "form-select" @size part="feedback"}}
      @errors={{@errors}}
    />
  {{/if}}
</FormField>